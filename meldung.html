<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Meldung eines IT-Sicherheitsvorfalls</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    .form-section { display: none; }
  </style>
</head>
<body>
  <header class="header">
    <img src="logo-bsi-smaller.svg" alt="BSI Logo" class="logo" />
    <div class="header-text">Bundesamt für Sicherheit in der Informationstechnik</div>
  </header>

  <main class="container">
    <h2 id="formTitle">Meldung</h2>

    <!-- FRÜHWARNUNG FORMULAR -->
    <form id="fruehwarnungForm" class="form-section">
      <label for="fw_unternehmen">Unternehmen</label>
      <input type="text" id="fw_unternehmen" required />

      <label for="fw_kontakt">Kontaktperson</label>
      <textarea id="fw_kontakt" rows="2" required></textarea>

      <label for="fw_zeit">Zeitpunkt der Beobachtung</label>
      <input type="datetime-local" id="fw_zeit" required />

      <label for="fw_verdacht">Verdacht / Auffälligkeit</label>
      <textarea id="fw_verdacht" rows="3"></textarea>

      <button type="submit">Frühwarnung absenden</button>
    </form>

    <!-- FOLGEMELDUNG FORMULAR -->
    <form id="folgemeldungForm" class="form-section">
      <label for="fm_unternehmen">Unternehmen</label>
      <input type="text" id="fm_unternehmen" required />

      <label for="fm_kontakt">Kontaktperson</label>
      <textarea id="fm_kontakt" rows="2" required></textarea>

      <label for="fm_vorfallID">Vorfall-ID</label>
      <input type="text" id="fm_vorfallID" required />

      <label for="fm_update">Neuer Kenntnisstand</label>
      <textarea id="fm_update" rows="3"></textarea>

      <button type="submit">Folgemeldung absenden</button>
    </form>

    <!-- ZWISCHENBERICHT FORMULAR -->
    <form id="zwischenberichtForm" class="form-section">
      <label for="zb_unternehmen">Unternehmen</label>
      <input type="text" id="zb_unternehmen" required />

      <label for="zb_kontakt">Kontaktperson</label>
      <textarea id="zb_kontakt" rows="2" required></textarea>

      <label for="zb_status">Aktueller Stand der Bearbeitung</label>
      <textarea id="zb_status" rows="4"></textarea>

      <button type="submit">Zwischenbericht absenden</button>
    </form>

    <!-- FORTSCHRITTSBERICHT FORMULAR -->
    <form id="fortschrittForm" class="form-section">
      <label for="fs_unternehmen">Unternehmen</label>
      <input type="text" id="fs_unternehmen" required />

      <label for="fs_kontakt">Kontaktperson</label>
      <textarea id="fs_kontakt" rows="2" required></textarea>

      <label for="fs_massnahmen">Umgesetzte Maßnahmen</label>
      <textarea id="fs_massnahmen" rows="4"></textarea>

      <button type="submit">Fortschrittsbericht absenden</button>
    </form>

    <!-- ABSCHLUSSBERICHT FORMULAR -->
    <form id="abschlussForm" class="form-section">
      <label for="ab_unternehmen">Unternehmen</label>
      <input type="text" id="ab_unternehmen" required />

      <label for="ab_kontakt">Kontaktperson</label>
      <textarea id="ab_kontakt" rows="2" required></textarea>

      <label for="ab_bewertung">Abschließende Bewertung des Vorfalls</label>
      <textarea id="ab_bewertung" rows="4"></textarea>

      <label for="ab_ausblick">Lessons Learned / Ausblick</label>
      <textarea id="ab_ausblick" rows="3"></textarea>

      <button type="submit">Abschlussbericht absenden</button>
    </form>
  </main>

  <script>
    const params = new URLSearchParams(window.location.search);
    const type = params.get("type");

    const titleMap = {
      fruehwarnung: "Frühwarnung",
      folgemeldung: "Folgemeldung",
      zwischenbericht: "Zwischenbericht",
      fortschritt: "Fortschrittsbericht",
      abschluss: "Abschlussbericht"
    };

    if (type && document.getElementById(`${type}Form`)) {
      document.getElementById(`${type}Form`).style.display = "block";
      document.getElementById("formTitle").textContent = `Meldung – ${titleMap[type]}`;
    } else {
      document.getElementById("formTitle").textContent = "Unbekannter Meldetyp";
    }
  </script>
</body>
</html>


